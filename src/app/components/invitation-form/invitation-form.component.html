<nz-spin nzSimple
         [nzSize]="'large'"
         *ngIf="loading; else form"></nz-spin>

<ng-template #form>
	<form nz-form
	      autocomplete="off"
	      *ngIf="guest === undefined; else result"
	      [nzLayout]="'vertical'"
	      [formGroup]="validateForm"
	      (ngSubmit)="submitForm()">

		<h2>Respond, if you please for {{ client?.name }}'s party</h2>

<!--		<div class="text"-->
<!--		     *ngIf="!guestId"-->
<!--		     nz-typography>Please, enter your full name and email for the party registration.-->
<!--		                   Also you can add names of extra persons.-->
<!--		</div>-->

		<nz-form-item>
			<nz-form-label [nzSm]="6"
			               [nzXs]="24"
			               nzRequired
			               nzFor="name">Full Name
			</nz-form-label>
			<nz-form-control [nzSm]="18"
			                 [nzXs]="24"
			                 nzErrorTip="Please input your full name!">
				<input formControlName="name"
				       type="text"
				       id="name"
				       nz-input/>
			</nz-form-control>
		</nz-form-item>

		<nz-form-item>
			<nz-form-label [nzSm]="6"
			               [nzXs]="24"
			               nzRequired
			               nzFor="email">Email
			</nz-form-label>
			<nz-form-control [nzSm]="18"
			                 [nzXs]="24"
			                 nzErrorTip="Please input your email!">
				<input formControlName="email"
				       nz-input
				       id="email"
				       type="email"/>
			</nz-form-control>
		</nz-form-item>

		<nz-form-item>
			<nz-form-label [nzSm]="6"
			               [nzXs]="24"
			               nzFor="extraPerson1">Extra Person Name (1)
			</nz-form-label>
			<nz-form-control [nzSm]="18"
			                 [nzXs]="24">
				<input formControlName="extraPerson1"
				       type="text"
				       id="extraPerson1"
				       nz-input/>
			</nz-form-control>
		</nz-form-item>

		<nz-form-item>
			<nz-form-control>
				<button nz-button
				        nzSize="large"
				        nzType="default"
				        [disabled]="!validateForm.valid">
					{{ guestId ? 'Update your Info' : 'Join to Party' }}
				</button>
			</nz-form-control>
		</nz-form-item>
	</form>
</ng-template>

<ng-template #result>
	<nz-result [nzIcon]="image"
	           [nzTitle]="title">
		<ng-template #title>
			<p nz-typography>Thanks for approving this invitation for {{ client?.name }}'s birthday party !!!
			</p>
			<p nz-typography>You got email with all party details</p>
			{{getLink('invitation')}} {{guest | json}}
			<nz-button-group>
				<a nz-button
				   nzType="link"
				   [href]="getLink('invitation')">Edit data</a>
				<a nz-button
				   nzType="link"
				   [href]="getLink('rejection')">Reject invitation</a>
			</nz-button-group>
		</ng-template>

		<ng-template #image>
			<img src="../../../assets/juliet-card.jpeg"
			     alt="123">
		</ng-template>
	</nz-result>
</ng-template>

